<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>PostgreSQL 应用指南 | DB-TUTORIAL</title>
    <meta name="generator" content="VuePress 1.9.2">
    <link rel="icon" href="/db-tutorial/img/favicon.ico">
    <meta name="description" content="☕ db-tutorial 是一个数据库教程。">
    <meta name="keywords" content="vuepress,theme,blog,vdoing">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/db-tutorial/assets/css/0.styles.0fa5ab37.css" as="style"><link rel="preload" href="/db-tutorial/assets/js/app.8ee26433.js" as="script"><link rel="preload" href="/db-tutorial/assets/js/2.f928080b.js" as="script"><link rel="preload" href="/db-tutorial/assets/js/26.586443bf.js" as="script"><link rel="prefetch" href="/db-tutorial/assets/js/10.4b8e20fa.js"><link rel="prefetch" href="/db-tutorial/assets/js/11.b91609e5.js"><link rel="prefetch" href="/db-tutorial/assets/js/12.dc9d3b84.js"><link rel="prefetch" href="/db-tutorial/assets/js/13.779543c7.js"><link rel="prefetch" href="/db-tutorial/assets/js/14.00604466.js"><link rel="prefetch" href="/db-tutorial/assets/js/15.3491ddad.js"><link rel="prefetch" href="/db-tutorial/assets/js/16.111fc8a7.js"><link rel="prefetch" href="/db-tutorial/assets/js/17.abc2ccd5.js"><link rel="prefetch" href="/db-tutorial/assets/js/18.b6bac511.js"><link rel="prefetch" href="/db-tutorial/assets/js/19.99cf3702.js"><link rel="prefetch" href="/db-tutorial/assets/js/20.01909da2.js"><link rel="prefetch" href="/db-tutorial/assets/js/21.480661a0.js"><link rel="prefetch" href="/db-tutorial/assets/js/22.21510631.js"><link rel="prefetch" href="/db-tutorial/assets/js/23.c8923f93.js"><link rel="prefetch" href="/db-tutorial/assets/js/24.3c05a178.js"><link rel="prefetch" href="/db-tutorial/assets/js/25.bbd89732.js"><link rel="prefetch" href="/db-tutorial/assets/js/27.a049ae57.js"><link rel="prefetch" href="/db-tutorial/assets/js/28.4a9575a5.js"><link rel="prefetch" href="/db-tutorial/assets/js/29.0fe52a42.js"><link rel="prefetch" href="/db-tutorial/assets/js/3.4fef494d.js"><link rel="prefetch" href="/db-tutorial/assets/js/30.d7cd3e96.js"><link rel="prefetch" href="/db-tutorial/assets/js/31.b55fd90f.js"><link rel="prefetch" href="/db-tutorial/assets/js/32.4d707168.js"><link rel="prefetch" href="/db-tutorial/assets/js/33.6ed7befa.js"><link rel="prefetch" href="/db-tutorial/assets/js/34.099e1a01.js"><link rel="prefetch" href="/db-tutorial/assets/js/35.27a66a7f.js"><link rel="prefetch" href="/db-tutorial/assets/js/36.f584024d.js"><link rel="prefetch" href="/db-tutorial/assets/js/37.d4eb2509.js"><link rel="prefetch" href="/db-tutorial/assets/js/38.86f31e48.js"><link rel="prefetch" href="/db-tutorial/assets/js/39.168d9cb3.js"><link rel="prefetch" href="/db-tutorial/assets/js/4.a1a948d8.js"><link rel="prefetch" href="/db-tutorial/assets/js/40.ce6bd3c2.js"><link rel="prefetch" href="/db-tutorial/assets/js/41.ee425fb7.js"><link rel="prefetch" href="/db-tutorial/assets/js/42.1cd7d290.js"><link rel="prefetch" href="/db-tutorial/assets/js/43.ce51f231.js"><link rel="prefetch" href="/db-tutorial/assets/js/44.ca9061e0.js"><link rel="prefetch" href="/db-tutorial/assets/js/45.b804cc2e.js"><link rel="prefetch" href="/db-tutorial/assets/js/46.f36446ba.js"><link rel="prefetch" href="/db-tutorial/assets/js/47.4a7c5fae.js"><link rel="prefetch" href="/db-tutorial/assets/js/48.fae5bf7e.js"><link rel="prefetch" href="/db-tutorial/assets/js/49.30242ef4.js"><link rel="prefetch" href="/db-tutorial/assets/js/5.a6954c0a.js"><link rel="prefetch" href="/db-tutorial/assets/js/50.b81f3cfc.js"><link rel="prefetch" href="/db-tutorial/assets/js/51.05cc7803.js"><link rel="prefetch" href="/db-tutorial/assets/js/52.a40f9c26.js"><link rel="prefetch" href="/db-tutorial/assets/js/53.b7405c51.js"><link rel="prefetch" href="/db-tutorial/assets/js/54.dfdb2bc0.js"><link rel="prefetch" href="/db-tutorial/assets/js/55.f72c4cd1.js"><link rel="prefetch" href="/db-tutorial/assets/js/56.58ec37d1.js"><link rel="prefetch" href="/db-tutorial/assets/js/57.77795441.js"><link rel="prefetch" href="/db-tutorial/assets/js/58.48774179.js"><link rel="prefetch" href="/db-tutorial/assets/js/59.3e3a8d46.js"><link rel="prefetch" href="/db-tutorial/assets/js/6.a908186a.js"><link rel="prefetch" href="/db-tutorial/assets/js/60.5d9b56f7.js"><link rel="prefetch" href="/db-tutorial/assets/js/61.ccb61a01.js"><link rel="prefetch" href="/db-tutorial/assets/js/62.4f8df7e3.js"><link rel="prefetch" href="/db-tutorial/assets/js/63.e8282ea6.js"><link rel="prefetch" href="/db-tutorial/assets/js/64.8630da18.js"><link rel="prefetch" href="/db-tutorial/assets/js/65.f5ca623c.js"><link rel="prefetch" href="/db-tutorial/assets/js/66.1117c91b.js"><link rel="prefetch" href="/db-tutorial/assets/js/67.3bdba886.js"><link rel="prefetch" href="/db-tutorial/assets/js/68.d38a4ff6.js"><link rel="prefetch" href="/db-tutorial/assets/js/69.6305d19e.js"><link rel="prefetch" href="/db-tutorial/assets/js/7.c53d9cb5.js"><link rel="prefetch" href="/db-tutorial/assets/js/70.73da32af.js"><link rel="prefetch" href="/db-tutorial/assets/js/71.4d17170e.js"><link rel="prefetch" href="/db-tutorial/assets/js/72.22732a6e.js"><link rel="prefetch" href="/db-tutorial/assets/js/73.17368c1b.js"><link rel="prefetch" href="/db-tutorial/assets/js/74.ba97d966.js"><link rel="prefetch" href="/db-tutorial/assets/js/75.e6aa4b3f.js"><link rel="prefetch" href="/db-tutorial/assets/js/76.c3c25530.js"><link rel="prefetch" href="/db-tutorial/assets/js/77.16dd6f20.js"><link rel="prefetch" href="/db-tutorial/assets/js/78.50b57aa1.js"><link rel="prefetch" href="/db-tutorial/assets/js/79.8382aa5b.js"><link rel="prefetch" href="/db-tutorial/assets/js/8.b46edd8a.js"><link rel="prefetch" href="/db-tutorial/assets/js/9.36ee61bb.js">
    <link rel="stylesheet" href="/db-tutorial/assets/css/0.styles.0fa5ab37.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/db-tutorial/" class="home-link router-link-active"><img src="https://raw.githubusercontent.com/dunwu/images/dev/common/dunwu-logo-200.png" alt="DB-TUTORIAL" class="logo"> <span class="site-name can-hide">DB-TUTORIAL</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/db-tutorial/01.数据库综合/" class="nav-link">数据库综合</a></div><div class="nav-item"><a href="/db-tutorial/02.数据库中间件/" class="nav-link">数据库中间件</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="关系型数据库" class="dropdown-title"><a href="/db-tutorial/03.关系型数据库/" class="link-title">关系型数据库</a> <span class="title" style="display:none;">关系型数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/db-tutorial/03.关系型数据库/01.综合/" class="nav-link">综合</a></li><li class="dropdown-item"><!----> <a href="/db-tutorial/03.关系型数据库/02.Mysql/" class="nav-link">Mysql</a></li><li class="dropdown-item"><!----> <a href="/db-tutorial/03.关系型数据库/99.其他/" class="nav-link">其他</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="文档数据库" class="dropdown-title"><!----> <span class="title" style="display:;">文档数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/db-tutorial/04.文档数据库/01.MongoDB/" class="nav-link">MongoDB</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="KV数据库" class="dropdown-title"><!----> <span class="title" style="display:;">KV数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/db-tutorial/05.KV数据库/01.Redis/" class="nav-link">Redis</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="搜索引擎数据库" class="dropdown-title"><!----> <span class="title" style="display:;">搜索引擎数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/db-tutorial/07.搜索引擎数据库/01.Elasticsearch/" class="nav-link">Elasticsearch</a></li><li class="dropdown-item"><!----> <a href="/db-tutorial/07.搜索引擎数据库/02.Elastic/" class="nav-link">Elastic技术栈</a></li></ul></div></div> <a href="https://github.com/dunwu/db-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/db-tutorial/01.数据库综合/" class="nav-link">数据库综合</a></div><div class="nav-item"><a href="/db-tutorial/02.数据库中间件/" class="nav-link">数据库中间件</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="关系型数据库" class="dropdown-title"><a href="/db-tutorial/03.关系型数据库/" class="link-title">关系型数据库</a> <span class="title" style="display:none;">关系型数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/db-tutorial/03.关系型数据库/01.综合/" class="nav-link">综合</a></li><li class="dropdown-item"><!----> <a href="/db-tutorial/03.关系型数据库/02.Mysql/" class="nav-link">Mysql</a></li><li class="dropdown-item"><!----> <a href="/db-tutorial/03.关系型数据库/99.其他/" class="nav-link">其他</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="文档数据库" class="dropdown-title"><!----> <span class="title" style="display:;">文档数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/db-tutorial/04.文档数据库/01.MongoDB/" class="nav-link">MongoDB</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="KV数据库" class="dropdown-title"><!----> <span class="title" style="display:;">KV数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/db-tutorial/05.KV数据库/01.Redis/" class="nav-link">Redis</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="搜索引擎数据库" class="dropdown-title"><!----> <span class="title" style="display:;">搜索引擎数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/db-tutorial/07.搜索引擎数据库/01.Elasticsearch/" class="nav-link">Elasticsearch</a></li><li class="dropdown-item"><!----> <a href="/db-tutorial/07.搜索引擎数据库/02.Elastic/" class="nav-link">Elastic技术栈</a></li></ul></div></div> <a href="https://github.com/dunwu/db-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>综合</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/db-tutorial/pages/2696ef/" class="sidebar-link">关系型数据库面试</a></li><li><a href="/db-tutorial/pages/91ff1a/" class="sidebar-link">sql-cheat-sheet</a></li><li><a href="/db-tutorial/pages/34648b/" class="sidebar-link">扩展 SQL</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Mysql</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/db-tutorial/pages/08cbb1/" class="sidebar-link">Mysql 应用指南</a></li><li><a href="/db-tutorial/pages/58c61a/" class="sidebar-link">MySQL 工作流</a></li><li><a href="/db-tutorial/pages/d0add6/" class="sidebar-link">Mysql 事务</a></li><li><a href="/db-tutorial/pages/dcd4a7/" class="sidebar-link">Mysql 锁</a></li><li><a href="/db-tutorial/pages/aa6a1a/" class="sidebar-link">Mysql 索引</a></li><li><a href="/db-tutorial/pages/387d10/" class="sidebar-link">Mysql 性能优化</a></li><li><a href="/db-tutorial/pages/4e960f/" class="sidebar-link">Mysql 运维</a></li><li><a href="/db-tutorial/pages/423d2d/" class="sidebar-link">Mysql 配置</a></li><li><a href="/db-tutorial/pages/ea9962/" class="sidebar-link">Mysql 常见问题</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>其他</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/db-tutorial/pages/bb2260/" aria-current="page" class="active sidebar-link">PostgreSQL 应用指南</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/db-tutorial/pages/bb2260/#安装" class="sidebar-link">安装</a></li><li class="sidebar-sub-header level2"><a href="/db-tutorial/pages/bb2260/#添加新用户和新数据库" class="sidebar-link">添加新用户和新数据库</a></li><li class="sidebar-sub-header level2"><a href="/db-tutorial/pages/bb2260/#登录数据库" class="sidebar-link">登录数据库</a></li><li class="sidebar-sub-header level2"><a href="/db-tutorial/pages/bb2260/#控制台命令" class="sidebar-link">控制台命令</a></li><li class="sidebar-sub-header level2"><a href="/db-tutorial/pages/bb2260/#数据库操作" class="sidebar-link">数据库操作</a></li><li class="sidebar-sub-header level2"><a href="/db-tutorial/pages/bb2260/#备份和恢复" class="sidebar-link">备份和恢复</a></li><li class="sidebar-sub-header level2"><a href="/db-tutorial/pages/bb2260/#参考资料" class="sidebar-link">参考资料</a></li><li class="sidebar-sub-header level2"><a href="/db-tutorial/pages/bb2260/#传送门" class="sidebar-link">🚪 传送门</a></li></ul></li><li><a href="/db-tutorial/pages/d15410/" class="sidebar-link">H2 应用指南</a></li><li><a href="/db-tutorial/pages/ec4fc2/" class="sidebar-link">sqlite</a></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-1baff76c><div class="articleInfo" data-v-1baff76c><ul class="breadcrumbs" data-v-1baff76c><li data-v-1baff76c><a href="/db-tutorial/" title="首页" class="iconfont icon-home router-link-active" data-v-1baff76c></a></li> <li data-v-1baff76c><span data-v-1baff76c>关系型数据库</span></li><li data-v-1baff76c><span data-v-1baff76c>其他</span></li></ul> <div class="info" data-v-1baff76c><div title="作者" class="author iconfont icon-touxiang" data-v-1baff76c><a href="https://github.com/dunwu" target="_blank" title="作者" class="beLink" data-v-1baff76c>dunwu</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-1baff76c><a href="javascript:;" data-v-1baff76c>2019-08-22</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">PostgreSQL 应用指南<!----></h1>  <div class="theme-vdoing-content content__default"><h1 id="postgresql-应用指南"><a href="#postgresql-应用指南" class="header-anchor">#</a> PostgreSQL 应用指南</h1> <blockquote><p><a href="https://www.postgresql.org/" target="_blank" rel="noopener noreferrer">PostgreSQL<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 是一个关系型数据库（RDBM）。</p> <p>关键词：Database, RDBM, psql</p></blockquote> <p><img src="https://raw.githubusercontent.com/dunwu/images/dev/snap/20180920181010182614.png" alt="img"></p> <h2 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h2> <blockquote><p>本文仅以运行在 Centos 环境下举例。</p></blockquote> <p>进入<a href="https://www.postgresql.org/download/" target="_blank" rel="noopener noreferrer">官方下载页面<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，根据操作系统选择合适版本。</p> <p>官方下载页面要求用户选择相应版本，然后动态的给出安装提示，如下图所示：</p> <p><img src="https://raw.githubusercontent.com/dunwu/images/dev/snap/20180920181010174348.png" alt="img"></p> <p>前 3 步要求用户选择，后 4 步是根据选择动态提示的安装步骤</p> <p>（1）选择 PostgreSQL 版本</p> <p>（2）选择平台</p> <p>（3）选择架构</p> <p>（4）安装 PostgreSQL 的 rpm 仓库（为了识别下载源）</p> <div class="language-shell extra-class"><pre class="language-shell"><code>yum <span class="token function">install</span> https://download.postgresql.org/pub/repos/yum/10/redhat/rhel-7-x86_64/pgdg-centos10-10-2.noarch.rpm
</code></pre></div><p>（5）安装客户端</p> <div class="language-shell extra-class"><pre class="language-shell"><code>yum <span class="token function">install</span> postgresql10
</code></pre></div><p>（6）安装服务端（可选的）</p> <div class="language-shell extra-class"><pre class="language-shell"><code>yum <span class="token function">install</span> postgresql10-server
</code></pre></div><p>（7）设置开机启动（可选的）</p> <div class="language-shell extra-class"><pre class="language-shell"><code>/usr/pgsql-10/bin/postgresql-10-setup initdb
systemctl <span class="token builtin class-name">enable</span> postgresql-10
systemctl start postgresql-10
</code></pre></div><h2 id="添加新用户和新数据库"><a href="#添加新用户和新数据库" class="header-anchor">#</a> 添加新用户和新数据库</h2> <p>初次安装后，默认生成一个名为 postgres 的数据库和一个名为 postgres 的数据库用户。这里需要注意的是，同时还生成了一个名为 postgres 的 Linux 系统用户。</p> <p>首先，新建一个 Linux 新用户，可以取你想要的名字，这里为 dbuser。</p> <div class="language- extra-class"><pre class="language-text"><code>sudo adduser dbuser
</code></pre></div><p>使用 psql 命令登录 PostgreSQL 控制台：</p> <div class="language- extra-class"><pre class="language-text"><code>sudo -u postgres psql
</code></pre></div><p>这时相当于系统用户 postgres 以同名数据库用户的身份，登录数据库，这是不用输入密码的。如果一切正常，系统提示符会变为&quot;postgres=#&quot;，表示这时已经进入了数据库控制台。以下的命令都在控制台内完成。</p> <p>（1）使用 <code>\password</code> 命令，为 postgres 用户设置一个密码。</p> <div class="language- extra-class"><pre class="language-text"><code>postgres=# \password postgres
</code></pre></div><p>（2）创建数据库用户 dbuser（刚才创建的是 Linux 系统用户），并设置密码。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">USER</span> dbuser <span class="token keyword">WITH</span> PASSWORD <span class="token string">'password'</span><span class="token punctuation">;</span>
</code></pre></div><p>（3）创建用户数据库，这里为 exampledb，并指定所有者为 dbuser。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> exampledb OWNER dbuser<span class="token punctuation">;</span>
</code></pre></div><p>（4）将 exampledb 数据库的所有权限都赋予 dbuser，否则 dbuser 只能登录控制台，没有任何数据库操作权限。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">GRANT</span> <span class="token keyword">ALL</span> <span class="token keyword">PRIVILEGES</span> <span class="token keyword">ON</span> <span class="token keyword">DATABASE</span> exampledb <span class="token keyword">to</span> dbuser<span class="token punctuation">;</span>
</code></pre></div><p>（5）使用\q 命令退出控制台（也可以直接按 ctrl+D）。</p> <h2 id="登录数据库"><a href="#登录数据库" class="header-anchor">#</a> 登录数据库</h2> <p>添加新用户和新数据库以后，就要以新用户的名义登录数据库，这时使用的是 psql 命令。</p> <div class="language- extra-class"><pre class="language-text"><code>psql -U dbuser -d exampledb -h 127.0.0.1 -p 5432
</code></pre></div><p>上面命令的参数含义如下：-U 指定用户，-d 指定数据库，-h 指定服务器，-p 指定端口。</p> <p>输入上面命令以后，系统会提示输入 dbuser 用户的密码。输入正确，就可以登录控制台了。</p> <p>psql 命令存在简写形式。如果当前 Linux 系统用户，同时也是 PostgreSQL 用户，则可以省略用户名（-U 参数的部分）。举例来说，我的 Linux 系统用户名为 ruanyf，且 PostgreSQL 数据库存在同名用户，则我以 ruanyf 身份登录 Linux 系统后，可以直接使用下面的命令登录数据库，且不需要密码。</p> <div class="language- extra-class"><pre class="language-text"><code>psql exampledb
</code></pre></div><p>此时，如果 PostgreSQL 内部还存在与当前系统用户同名的数据库，则连数据库名都可以省略。比如，假定存在一个叫做 ruanyf 的数据库，则直接键入 psql 就可以登录该数据库。</p> <p>psql</p> <p>另外，如果要恢复外部数据，可以使用下面的命令。</p> <div class="language- extra-class"><pre class="language-text"><code>psql exampledb &lt; exampledb.sql
</code></pre></div><h2 id="控制台命令"><a href="#控制台命令" class="header-anchor">#</a> 控制台命令</h2> <p>除了前面已经用到的 \password 命令（设置密码）和 \q 命令（退出）以外，控制台还提供一系列其他命令。</p> <div class="language- extra-class"><pre class="language-text"><code>\password           设置密码
\q                  退出
\h                  查看SQL命令的解释，比如\h select
\?                  查看psql命令列表
\l                  列出所有数据库
\c [database_name]  连接其他数据库
\d                  列出当前数据库的所有表格
\d [table_name]     列出某一张表格的结构
\x                  对数据做展开操作
\du                 列出所有用户
</code></pre></div><h2 id="数据库操作"><a href="#数据库操作" class="header-anchor">#</a> 数据库操作</h2> <p>基本的数据库操作，就是使用一般的 SQL 语言。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment"># 创建新表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> user_tbl<span class="token punctuation">(</span>name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span> signup_date <span class="token keyword">DATE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># 插入数据</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> user_tbl<span class="token punctuation">(</span>name<span class="token punctuation">,</span> signup_date<span class="token punctuation">)</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">'张三'</span><span class="token punctuation">,</span> <span class="token string">'2013-12-22'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># 选择记录</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> user_tbl<span class="token punctuation">;</span>
<span class="token comment"># 更新数据</span>
<span class="token keyword">UPDATE</span> user_tbl <span class="token keyword">set</span> name <span class="token operator">=</span> <span class="token string">'李四'</span> <span class="token keyword">WHERE</span> name <span class="token operator">=</span> <span class="token string">'张三'</span><span class="token punctuation">;</span>
<span class="token comment"># 删除记录</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> user_tbl <span class="token keyword">WHERE</span> name <span class="token operator">=</span> <span class="token string">'李四'</span> <span class="token punctuation">;</span>
<span class="token comment"># 添加栏位</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> user_tbl <span class="token keyword">ADD</span> email <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># 更新结构</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> user_tbl <span class="token keyword">ALTER</span> <span class="token keyword">COLUMN</span> signup_date <span class="token keyword">SET</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
<span class="token comment"># 更名栏位</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> user_tbl <span class="token keyword">RENAME</span> <span class="token keyword">COLUMN</span> signup_date <span class="token keyword">TO</span> signup<span class="token punctuation">;</span>
<span class="token comment"># 删除栏位</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> user_tbl <span class="token keyword">DROP</span> <span class="token keyword">COLUMN</span> email<span class="token punctuation">;</span>
<span class="token comment"># 表格更名</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> user_tbl <span class="token keyword">RENAME</span> <span class="token keyword">TO</span> backup_tbl<span class="token punctuation">;</span>
<span class="token comment"># 删除表格</span>
<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> backup_tbl<span class="token punctuation">;</span>
</code></pre></div><h2 id="备份和恢复"><a href="#备份和恢复" class="header-anchor">#</a> 备份和恢复</h2> <div class="language-shell extra-class"><pre class="language-shell"><code>pg_dump --format<span class="token operator">=</span>t -d db_name -U user_name -h <span class="token number">127.0</span>.0.1 -O -W  <span class="token operator">&gt;</span> dump.sql
psql -h <span class="token number">127.0</span>.0.1 -U user_name db_name <span class="token operator">&lt;</span> dump.sql
</code></pre></div><h2 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料</h2> <ul><li>https://www.postgresql.org/download/</li> <li>http://www.ruanyifeng.com/blog/2013/12/getting_started_with_postgresql.html</li></ul> <h2 id="传送门"><a href="#传送门" class="header-anchor">#</a> 🚪 传送门</h2> <p>| <a href="https://github.com/dunwu/blog" target="_blank" rel="noopener noreferrer">我的 Github 博客<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> | <a href="https://github.com/dunwu/db-tutorial" target="_blank" rel="noopener noreferrer">db-tutorial 首页<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> |</p></div></div> <div class="page-slot page-slot-bottom">
  <div class="wwads-cn wwads-horizontal pageB" data-id="136" style="width:100%;max-height:80px;min-height:auto;"></div>
  <style>
    .pageB img{width:80px!important;}
    .wwads-horizontal .wwads-text, .wwads-content .wwads-text{line-height:1;}
  </style>
  </div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/dunwu/db-tutorial/edit/master/docs/03.关系型数据库/99.其他/01.PostgreSQL.md" target="_blank" rel="noopener noreferrer">📝 帮助改善此页面！</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="tags"><a href="/db-tutorial/tags/?tag=%E6%95%B0%E6%8D%AE%E5%BA%93" title="标签">#数据库</a><a href="/db-tutorial/tags/?tag=%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93" title="标签">#关系型数据库</a><a href="/db-tutorial/tags/?tag=PostgreSQL" title="标签">#PostgreSQL</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/04/12, 16:16:10</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/db-tutorial/pages/ea9962/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Mysql 常见问题</div></a> <a href="/db-tutorial/pages/d15410/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">H2 应用指南</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/db-tutorial/pages/ea9962/" class="prev">Mysql 常见问题</a></span> <span class="next"><a href="/db-tutorial/pages/d15410/">H2 应用指南</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/db-tutorial/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/db-tutorial/pages/84f411/"><div>
            数据库综合
            <!----></div></a> <span class="date">04-11</span></dt></dl><dl><dd>02</dd> <dt><a href="/db-tutorial/pages/057a1d/"><div>
            数据库中间件
            <!----></div></a> <span class="date">04-11</span></dt></dl><dl><dd>03</dd> <dt><a href="/db-tutorial/pages/d64774/"><div>
            关系型数据库其他知识
            <!----></div></a> <span class="date">04-11</span></dt></dl> <dl><dd></dd> <dt><a href="/db-tutorial/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:forbreak@163.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/dunwu" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2022
    <span>钝悟（dunwu） | CC-BY-SA-4.0</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <div class="custom-html-window custom-html-window-rb" style="display:;"><div class="custom-wrapper"><span class="close-but">×</span> <div>
    <div class="wwads-cn wwads-vertical windowRB" data-id="136" style="max-width:160px;
    min-width: auto;min-height:auto;"></div>
    <style>
      .windowRB{ padding: 0;}
      .windowRB .wwads-img{margin-top: 10px;}
      .windowRB .wwads-content{margin: 0 10px 10px 10px;}
      .custom-html-window-rb .close-but{
        display: none;
      }
    </style>
  </div></div></div></div><div class="global-ui"></div></div>
    <script src="/db-tutorial/assets/js/app.8ee26433.js" defer></script><script src="/db-tutorial/assets/js/2.f928080b.js" defer></script><script src="/db-tutorial/assets/js/26.586443bf.js" defer></script>
  </body>
</html>
